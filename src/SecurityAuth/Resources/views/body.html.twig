<html>
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="{{ asset('css/security.css') }}">
<title>Security!</title>
</head>

 <body>

        {% if is_granted('ROLE_PREVIOUS_ADMIN') %} {# used with ?_switch_user=... #}
            <div class="alert alert-warning" style="margin-bottom: 0;">
                You are currently switched to this user.
                <a href="{{ path('account', {'_switch_user': '_exit'}) }}">Exit Impersonation</a>
            </div>
        {% endif %}

        <nav class="navbar navbar-expand-lg navbar-dark navbar-bg mb-5">
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav ml-auto">

                    {% if is_granted('ROLE_USER') %}
                        <li class="nav-item dropdown" style="margin-right: 75px;">
                            <a class="nav-link dropdown-toggle" href="http://example.com" id="navbarDropdownMenuLink" 
                                data-toggle="no_dropdown" aria-haspopup="true" aria-expanded="false">
                                <img class="nav-profile-img rounded-circle"
                                    src="{{ app.user.avatarUrl(50) }}">
                            </a>
                            <div class="no_dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                <a class="dropdown-item" href="{{ path('security_account') }}">Profile</a>

                                {% if is_granted('ROLE_ADMIN') %}
                                    <a class="dropdown-item" href="#">(A) Create Post</a>
                                {% endif %}
                                
                                <a class="dropdown-item" href="{{ path('security_logout') }}">Logout</a>
                            </div>
                        </li>

                    {% elseif is_granted('ROLE_ADMIN') %}
                        <img class="nav-profile-img rounded-circle" width="20" height="20" 
                                    src="https://www.pngitem.com/pimgs/m/78-786293_1240-x-1240-0-avatar-profile-icon-png.png">
                    {% else %}
                        <li class="nav-item">
                            <a style="color: green;" class="nav-link" href="{{ path('security_login') }}">Login</a>
                        </li>
                    {% endif %}

                    <li class="nav-item">
                        <a style="color: green;" class="nav-link" href="{{ path('security_guest') }}">Guest</a>
                    </li>

                    <li class="nav-item">
                        <a style="color: green;" class="nav-link" href="{{ path('security_register') }}">Register</a>
                    </li>

                    {% if is_granted('IS_AUTHENTICATED_FULLY') %}
                        <li class="nav-item">
                            <a style="color: blue;" class="nav-link" href="{{ path('security_account') }}">Account</a>
                        </li>
                        <li class="nav-item">
                            <a style="color: blue;" class="nav-link" href="{{ path('security_logout') }}">Logout</a>
                        </li>
                    {% endif %}

                    <li class="nav-item">
                        <a style="color: red;" class="nav-link" href="{{ path('security_admin') }}">Admin</a>
                    </li>

                    {#
                    <li class="nav-item dropdown" style="margin-right: 75px;">
                        <a class="nav-link dropdown-toggle" href="http://example.com" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          <img class="nav-profile-img rounded-circle" src="{{ asset('images/astronaut-profile.png') }}">
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            <a class="dropdown-item" href="#">Profile</a>
                            <a class="dropdown-item" href="#">Create Post</a>
                            <a class="dropdown-item" href="#">Logout</a>
                        </div>
                    </li>
                    #}

                </ul>
            </div>
        </nav>

{% block body %}{% endblock %}

    </body>

</html>